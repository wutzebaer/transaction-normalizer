const Cardano = require("@emurgo/cardano-serialization-lib-nodejs");

// im browser
// api = await cardano.eternl.enable();
// await (await cardano.eternl.enable()).signTx('unsignedcborfromserver', false)

const tx = Cardano.Transaction.from_bytes(
  Buffer.from(
    "84a50081825820f169ecc6417d573d3138cb2fdfd53ce1ef1465254d0af4c78d820383f1f8e76201018282583901956f1260ffd206478c9f079479f38faf4b73ac00c8953f6cc6dec2d8ddbe7a587e6bdd2674bf53fc093226bbd43af035f4ea07d7811679661a002dc6c082583901956f1260ffd206478c9f079479f38faf4b73ac00c8953f6cc6dec2d8ddbe7a587e6bdd2674bf53fc093226bbd43af035f4ea07d7811679661a953da2e3021a0002ddcd031a0663c0320758207fee961645586d071066b46481ecb65c21b6c1dcbe2915f486cb5a5b9db9eeb0a0f5d90103a100a11902a2a1636d7367837840504c4541534520434f4e4649524d3a205965732c20492077616e7420746f206c696e6b206d792077616c6c657420277374616b65317538776d75376a6330653478406136666e356861666c637a666a79366161677768737868367735703768737974386a657368687930726e2720776974682074686520446973636f72642061636378386f756e7420277775747a6562616572272c20736f20746861742069742063616e20616363657373206d79206472696c6c7a2d746f6b656e2e",
    "hex"
  )
);
const witness = Cardano.TransactionWitnessSet.from_bytes(
  Buffer.from(
    "a10081825820f9009b9270a0e89d0ecf9d39e5f96829a23238d59eb793c63103086e659054bf58406b4d085de41607875c32bda9077b4732275e234952bff52fbfac3a657d9b83c142bfbf0db309760c9876fffac67ec2db8fe5193132e2af6395d7c26c7d3a6d0c",
    "hex"
  )
);

const signedtx = Cardano.Transaction.new(
  tx.body(),
  witness,
  tx.auxiliary_data()
);

console.log(Buffer.from(signedtx.to_bytes()).toString("hex"));
